{"ast":null,"code":"// Helper functions untuk handle API responses consistently\n\nexport const ensureArray = data => {\n  if (Array.isArray(data)) {\n    return data;\n  }\n  if (data && typeof data === 'object') {\n    if (data.data && Array.isArray(data.data)) {\n      return data.data;\n    }\n    if (data.products && Array.isArray(data.products)) {\n      return data.products;\n    }\n    if (data.items && Array.isArray(data.items)) {\n      return data.items;\n    }\n  }\n\n  // Return empty array sebagai fallback\n  return [];\n};\nexport const ensureObject = data => {\n  if (data && typeof data === 'object' && !Array.isArray(data)) {\n    return data;\n  }\n\n  // Return empty object sebagai fallback\n  return {};\n};\nexport const safeReduce = (array, reducer, initialValue = 0) => {\n  if (!Array.isArray(array)) {\n    return initialValue;\n  }\n  try {\n    return array.reduce(reducer, initialValue);\n  } catch (error) {\n    console.error('Reduce error:', error);\n    return initialValue;\n  }\n};","map":{"version":3,"names":["ensureArray","data","Array","isArray","products","items","ensureObject","safeReduce","array","reducer","initialValue","reduce","error","console"],"sources":["C:/Users/ASUS/OneDrive/Dokumen/petshop-inventory/frontend/src/utils/apiHelpers.js"],"sourcesContent":["// Helper functions untuk handle API responses consistently\r\n\r\nexport const ensureArray = (data) => {\r\n    if (Array.isArray(data)) {\r\n        return data;\r\n    }\r\n    \r\n    if (data && typeof data === 'object') {\r\n\r\n        if (data.data && Array.isArray(data.data)) {\r\n            return data.data;\r\n        }\r\n        if (data.products && Array.isArray(data.products)) {\r\n            return data.products;\r\n        }\r\n        if (data.items && Array.isArray(data.items)) {\r\n            return data.items;\r\n        }\r\n    }\r\n    \r\n    // Return empty array sebagai fallback\r\n    return [];\r\n};\r\n\r\nexport const ensureObject = (data) => {\r\n    if (data && typeof data === 'object' && !Array.isArray(data)) {\r\n        return data;\r\n    }\r\n    \r\n    // Return empty object sebagai fallback\r\n    return {};\r\n};\r\n\r\nexport const safeReduce = (array, reducer, initialValue = 0) => {\r\n    if (!Array.isArray(array)) {\r\n        return initialValue;\r\n    }\r\n    \r\n    try {\r\n        return array.reduce(reducer, initialValue);\r\n    } catch (error) {\r\n        console.error('Reduce error:', error);\r\n        return initialValue;\r\n    }\r\n};"],"mappings":"AAAA;;AAEA,OAAO,MAAMA,WAAW,GAAIC,IAAI,IAAK;EACjC,IAAIC,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,EAAE;IACrB,OAAOA,IAAI;EACf;EAEA,IAAIA,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;IAElC,IAAIA,IAAI,CAACA,IAAI,IAAIC,KAAK,CAACC,OAAO,CAACF,IAAI,CAACA,IAAI,CAAC,EAAE;MACvC,OAAOA,IAAI,CAACA,IAAI;IACpB;IACA,IAAIA,IAAI,CAACG,QAAQ,IAAIF,KAAK,CAACC,OAAO,CAACF,IAAI,CAACG,QAAQ,CAAC,EAAE;MAC/C,OAAOH,IAAI,CAACG,QAAQ;IACxB;IACA,IAAIH,IAAI,CAACI,KAAK,IAAIH,KAAK,CAACC,OAAO,CAACF,IAAI,CAACI,KAAK,CAAC,EAAE;MACzC,OAAOJ,IAAI,CAACI,KAAK;IACrB;EACJ;;EAEA;EACA,OAAO,EAAE;AACb,CAAC;AAED,OAAO,MAAMC,YAAY,GAAIL,IAAI,IAAK;EAClC,IAAIA,IAAI,IAAI,OAAOA,IAAI,KAAK,QAAQ,IAAI,CAACC,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,EAAE;IAC1D,OAAOA,IAAI;EACf;;EAEA;EACA,OAAO,CAAC,CAAC;AACb,CAAC;AAED,OAAO,MAAMM,UAAU,GAAGA,CAACC,KAAK,EAAEC,OAAO,EAAEC,YAAY,GAAG,CAAC,KAAK;EAC5D,IAAI,CAACR,KAAK,CAACC,OAAO,CAACK,KAAK,CAAC,EAAE;IACvB,OAAOE,YAAY;EACvB;EAEA,IAAI;IACA,OAAOF,KAAK,CAACG,MAAM,CAACF,OAAO,EAAEC,YAAY,CAAC;EAC9C,CAAC,CAAC,OAAOE,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;IACrC,OAAOF,YAAY;EACvB;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}